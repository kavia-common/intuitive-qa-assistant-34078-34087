{"is_source_file": true, "format": "Kotlin", "description": "This file defines the ApiClient class responsible for handling REST communication with a Q&A backend, including sending questions, handling responses, and providing mock answers when no backend URL is configured.", "external_files": ["android.content.Context", "android.util.Base64", "org.example.app.ui.ConversationItem", "org.example.app.ui.ConversationRole", "java.io.BufferedReader", "java.io.InputStreamReader", "java.net.HttpURLConnection", "java.net.URL", "java.nio.charset.StandardCharsets", "java.util.Locale"], "external_methods": ["context.resources.getIdentifier", "context.getString", "InputStreamReader.readText", "Base64.encodeToString"], "published": ["ApiClient", "ApiResult"], "classes": [{"name": "ApiClient", "description": "Encapsulates REST communication to a backend service for question answering, with fallback mocking.", "methods": [{"name": "askQuestion", "description": "Sends a question with history to the backend or returns a mock answer if backend is unavailable."}, {"name": "performPost", "description": "Performs an HTTP POST request to the specified endpoint with question and history."}, {"name": "buildJson", "description": "Constructs a JSON string with question and conversation history."}, {"name": "extractAnswer", "description": "Parses the response to extract an answer string."}, {"name": "mockAnswer", "description": "Generates a mock answer based on the question and conversation history."}]}, {"name": "ApiResult", "description": "Sealed class representing either a successful answer or an error status.", "methods": []}], "calls": ["context.resources.getIdentifier", "context.getString", "URL.openConnection", "HttpURLConnection.setRequestProperty", "HttpURLConnection.getResponseCode", "BufferedReader.readText", "HttpURLConnection.disconnect", "Base64.encodeToString"], "search-terms": ["ApiClient Kotlin network", "HttpURLConnection POST request", "mock answer generation", "question-answer API", "conversation history handling"], "state": 2, "file_id": 16, "knowledge_revision": 33, "git_revision": "", "hash": "922560c39b65dfc819f548a8407f578d", "format-version": 4, "code-base-name": "mobile_frontend", "filename": "mobile_frontend/app/src/main/kotlin/org/example/app/network/ApiClient.kt", "revision_history": [{"33": ""}]}